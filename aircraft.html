<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aircraft - Currahee Aviation</title>
    <meta name="description" content="Our 1965 Cessna 172 aircraft specifications, rental rates, and requirements at KTOC Toccoa Regional Airport.">
    <link rel="stylesheet" href="Curahee-Aviation/assets/css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-logo-container">
                <img src="Curahee-Aviation/assets/images/logos/currahee-logo.png" alt="Currahee Aviation Logo" class="header-logo-small" onerror="this.src='Curahee-Aviation/assets/images/logos/currahee-logo.jpg'; this.onerror=function(){this.style.display='none'};">
            </div>
            <p><span id="aircraft-year">1965</span> <span id="aircraft-make">Cessna</span> <span id="aircraft-model">172</span> - Reliable Aircraft</p>
            <nav>
                <a href="index.html">Home</a>
                <a href="aircraft.html">Aircraft</a>
                <a href="pricing.html">Pricing</a>
                <a href="schedule.html">Schedule</a>
                <a href="contact.html">Contact</a>
            </nav>
        </header>

        <!-- Aircraft Photo Gallery - Auto Slideshow -->
        <div class="aircraft-gallery-preview" style="margin-bottom: 30px;">
            <div style="position: relative; width: 100%; height: 350px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); overflow: hidden;">
                <img id="mainGalleryPhoto" src="Curahee-Aviation/assets/images/aircraft/aircraft-1.JPG" alt="Aircraft Photo" 
                     style="width: 100%; height: 100%; object-fit: cover; border-radius: 10px; transition: opacity 0.5s ease-in-out;"
                     onerror="this.src='Curahee-Aviation/assets/images/aircraft/aircraft-1.jpg'; this.onerror=null;">
                
                <!-- Photo Counter -->
                <div id="mainPhotoCounter" style="position: absolute; bottom: 15px; right: 15px; color: white; font-size: 14px; background: rgba(0,0,0,0.7); padding: 6px 12px; border-radius: 15px;">
                    1 of 5
                </div>
                
                <!-- Navigation arrows -->
                <button onclick="previousMainPhoto()" style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.8); border: none; color: #333; font-size: 24px; padding: 10px 15px; border-radius: 50%; cursor: pointer; opacity: 0.7; transition: opacity 0.3s;">
                    ←
                </button>
                <button onclick="nextMainPhoto()" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.8); border: none; color: #333; font-size: 24px; padding: 10px 15px; border-radius: 50%; cursor: pointer; opacity: 0.7; transition: opacity 0.3s;">
                    →
                </button>
            </div>
        </div>

        <!-- Photo Gallery Modal -->
        <div id="photoGalleryModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 1000; align-items: center; justify-content: center;">
            <div style="position: relative; max-width: 90%; max-height: 90%; display: flex; align-items: center; justify-content: center;">
                <!-- Close Button -->
                <button onclick="closePhotoGallery()" style="position: absolute; top: -50px; right: 0; background: none; border: none; color: white; font-size: 30px; cursor: pointer; z-index: 1001;">
                    ✕
                </button>
                
                <!-- Previous Button -->
                <button onclick="previousPhoto()" style="position: absolute; left: -60px; background: rgba(255,255,255,0.2); border: none; color: white; font-size: 30px; padding: 15px 20px; border-radius: 50%; cursor: pointer; z-index: 1001;">
                    ←
                </button>
                
                <!-- Photo Display -->
                <img id="galleryPhoto" src="" alt="Aircraft Photo" style="max-width: 100%; max-height: 100%; object-fit: contain; border-radius: 10px;">
                
                <!-- Next Button -->
                <button onclick="nextPhoto()" style="position: absolute; right: -60px; background: rgba(255,255,255,0.2); border: none; color: white; font-size: 30px; padding: 15px 20px; border-radius: 50%; cursor: pointer; z-index: 1001;">
                    →
                </button>
                
                <!-- Photo Counter -->
                <div id="photoCounter" style="position: absolute; bottom: -40px; left: 50%; transform: translateX(-50%); color: white; font-size: 16px; background: rgba(0,0,0,0.5); padding: 8px 16px; border-radius: 20px;">
                    1 of 5
                </div>
            </div>
        </div>

        <div class="aircraft-info">
            <div class="card">
                <h2>Aircraft Specs</h2>
                <ul class="specs">
                    <li><span><strong>Make/Model:</strong></span> <span><span id="spec-make">Cessna</span> <span id="spec-model">172</span></span></li>
                    <li><span><strong>Year:</strong></span> <span id="spec-year">1965</span></li>
                    <li><span><strong>Engine:</strong></span> <span id="spec-engine">O-300D</span></li>
                    <li><span><strong>Horsepower:</strong></span> <span id="spec-horsepower">145 HP</span></li>
                    <li><span><strong>Cruise Speed:</strong></span> <span id="spec-cruise">122 knots</span></li>
                    <li><span><strong>Service Ceiling:</strong></span> <span id="spec-ceiling">13,100 ft</span></li>
                    <li><span><strong>Range:</strong></span> <span id="spec-range">640 nautical miles</span></li>
                    <li><span><strong>Seating:</strong></span> <span id="spec-seating">4 seats</span></li>
                    <li><span><strong>Fuel Capacity:</strong></span> <span id="spec-fuel">42 gallons</span></li>
                </ul>
            </div>
            
            <!-- Avionics Card - NEW -->
            <div class="card">
                <h2>Avionics Suite</h2>
                <ul class="specs" id="avionics-list">
                    <li><span><strong>Garmin Suite</strong></span></li>
                    <li><span><strong>Intercom:</strong></span> <span>Garmin 325</span></li>
                    <li><span><strong>GPS:</strong></span> <span>Garmin 650</span></li>
                    <li><span><strong>NAV/Com:</strong></span> <span>Garmin NAV/Com</span></li>
                    <li><span><strong>Transponder:</strong></span> <span>Garmin Transponder ADSB</span></li>
                    <li><span><strong>Attitude:</strong></span> <span>Garmin G5</span></li>
                    <li><span><strong>HSI:</strong></span> <span>Garmin GI275</span></li>
                    <li><span><strong>Backup:</strong></span> <span><strong>Classic 6 pack</strong></span></li>
                </ul>
            </div>
        </div>

        <div class="aircraft-info">
            <div class="card rate-card">
                <h2>Rental Rates</h2>
                <div>
                    <h3>Wet Rate</h3>
                    <div class="rate"><span id="wet-rate">$180</span>/hr</div>
                    <p>Aircraft only - fuel separate</p>
                </div>
                <hr style="margin: 20px 0; border: 1px solid rgba(255,255,255,0.3);">
                <div>
                    <h3>Dry Rate</h3>
                    <div class="rate"><span id="dry-rate">Wet rate w/ dry on req.</span></div>
                    <p>Available upon request</p>
                </div>
            </div>
            
            <div class="card requirements">
                <h2>Rental Requirements</h2>
                <h3>Minimum Qualifications:</h3>
                <ul id="pilot-qualifications" style="margin: 10px 0 0 20px;">
                    <li>Private Pilot Certificate minimum OR Student Pilot with instructor endorsement</li>
                    <li>Current flight review (BFR) or instructor endorsement</li>
                </ul>
                
                <h3 style="margin-top: 15px;">Insurance Requirements:</h3>
                <ul id="insurance-requirements" style="margin: 10px 0 0 20px;">
                    <li>Aircraft insured by owner</li>
                    <li>Supplimental insurance optional</li>
                </ul>
                
                <h3 style="margin-top: 15px;">Checkout Procedures:</h3>
                <ul id="checkout-procedures" style="margin: 10px 0 0 20px;">
                    <li>Aircraft familiarization briefing</li>
                    <li>Checkout flight with approved instructor</li>
                    <li>Emergency procedures demonstration</li>
                </ul>
            </div>
        </div>
        
        <footer>
            <p>&copy; 2025 <span id="business-name">Currahee Aviation</span> | KTOC Toccoa Regional Airport | flycurrahee.net</p>
        </footer>
    </div>

    <!-- Load Configuration -->
    <script src="Curahee-Aviation/config/contact-info.js"></script>
    <script src="Curahee-Aviation/config/business-config.js"></script>
    <script src="Curahee-Aviation/config/aircraft.js"></script>
    <script src="Curahee-Aviation/config/rental.js"></script>

    <!-- Dynamic Content Loading & Carousel -->
    <script>
        // Auto slideshow variables
        let mainGalleryInterval;
        let currentMainPhotoIndex = 0;
        const MAIN_SLIDESHOW_INTERVAL = 4000; // 4 seconds between photos
        
        // Photo slideshow array (renamed to avoid conflicts)
        const slideshowPhotos = [
            { src: 'Curahee-Aviation/assets/images/aircraft/aircraft-1.JPG', alt: 'Aircraft exterior view' },
            { src: 'Curahee-Aviation/assets/images/aircraft/aircraft-2.JPG', alt: 'Aircraft cockpit view' },
            { src: 'Curahee-Aviation/assets/images/aircraft/aircraft-3.JPG', alt: 'Aircraft interior view' },
            { src: 'Curahee-Aviation/assets/images/aircraft/aircraft-4.JPG', alt: 'Aircraft engine view' },
            { src: 'Curahee-Aviation/assets/images/aircraft/aircraft-5.JPG', alt: 'Aircraft on ramp view' }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            // Populate content from config files
            if (typeof CONTACT_INFO !== 'undefined' && 
                typeof BUSINESS_CONFIG !== 'undefined' && 
                typeof AIRCRAFT_CONFIG !== 'undefined' && 
                typeof RENTAL_CONFIG !== 'undefined') {
                populateContent();
            } else {
                console.warn('Some config files not loaded, using default content');
            }
            
            // Start auto slideshow immediately
            startMainSlideshow();
            
            // Initialize carousel
            initCarousel();
        });

        function startMainSlideshow() {
            mainGalleryInterval = setInterval(nextMainPhoto, MAIN_SLIDESHOW_INTERVAL);
        }

        function stopMainSlideshow() {
            if (mainGalleryInterval) {
                clearInterval(mainGalleryInterval);
                mainGalleryInterval = null;
            }
        }

        function nextMainPhoto() {
            currentMainPhotoIndex = (currentMainPhotoIndex + 1) % slideshowPhotos.length;
            showMainPhoto();
        }

        function previousMainPhoto() {
            currentMainPhotoIndex = (currentMainPhotoIndex - 1 + slideshowPhotos.length) % slideshowPhotos.length;
            showMainPhoto();
            // Restart slideshow after manual navigation
            stopMainSlideshow();
            startMainSlideshow();
        }

        function showMainPhoto() {
            const photo = slideshowPhotos[currentMainPhotoIndex];
            const photoElement = document.getElementById('mainGalleryPhoto');
            const counterElement = document.getElementById('mainPhotoCounter');
            
            // Try uppercase first, fallback to lowercase
            const img = new Image();
            img.onload = function() {
                photoElement.src = this.src;
                photoElement.alt = photo.alt;
            };
            img.onerror = function() {
                // Try lowercase version
                const lowercaseSrc = photo.src.replace('.JPG', '.jpg');
                const fallbackImg = new Image();
                fallbackImg.onload = function() {
                    photoElement.src = this.src;
                    photoElement.alt = photo.alt;
                };
                fallbackImg.onerror = function() {
                    console.warn('Photo not found:', photo.src);
                };
                fallbackImg.src = lowercaseSrc;
            };
            img.src = photo.src;
            
            // Update counter
            counterElement.textContent = `${currentMainPhotoIndex + 1} of ${slideshowPhotos.length}`;
        }

        // Pause slideshow on hover
        document.addEventListener('DOMContentLoaded', function() {
            const gallery = document.querySelector('.aircraft-gallery-preview');
            
            gallery.addEventListener('mouseenter', function() {
                stopMainSlideshow();
            });
            
            gallery.addEventListener('mouseleave', function() {
                startMainSlideshow();
            });
        });

        function populateContent() {
            // Populate business name
            const businessNameElements = document.querySelectorAll('#business-name');
            businessNameElements.forEach(el => el.textContent = CONTACT_INFO.businessName);

            // Populate aircraft information
            document.getElementById('aircraft-year').textContent = AIRCRAFT_CONFIG.year;
            document.getElementById('aircraft-make').textContent = AIRCRAFT_CONFIG.make;
            document.getElementById('aircraft-model').textContent = AIRCRAFT_CONFIG.model;
            
            // Populate specifications
            document.getElementById('spec-make').textContent = AIRCRAFT_CONFIG.make;
            document.getElementById('spec-model').textContent = AIRCRAFT_CONFIG.model;
            document.getElementById('spec-year').textContent = AIRCRAFT_CONFIG.year;
            document.getElementById('spec-engine').textContent = AIRCRAFT_CONFIG.engine;
            document.getElementById('spec-horsepower').textContent = AIRCRAFT_CONFIG.horsepower;
            document.getElementById('spec-cruise').textContent = AIRCRAFT_CONFIG.cruiseSpeed;
            document.getElementById('spec-ceiling').textContent = AIRCRAFT_CONFIG.serviceCeiling;
            document.getElementById('spec-range').textContent = AIRCRAFT_CONFIG.range;
            document.getElementById('spec-seating').textContent = AIRCRAFT_CONFIG.seating;
            document.getElementById('spec-fuel').textContent = AIRCRAFT_CONFIG.fuelCapacity;

            // Populate avionics from aircraft config if available
            if (AIRCRAFT_CONFIG.avionics) {
                const avionicsList = document.getElementById('avionics-list');
                if (avionicsList && typeof AIRCRAFT_CONFIG.avionics === 'object') {
                    avionicsList.innerHTML = '';
                    
                    // Add each avionics item
                    Object.entries(AIRCRAFT_CONFIG.avionics).forEach(([key, value]) => {
                        const li = document.createElement('li');
                        if (key === 'garminSuite') {
                            li.innerHTML = `<span><strong>${value}</strong></span>`;
                        } else if (key === 'backup') {
                            li.innerHTML = `<span><strong>Backup:</strong></span> <span>${value}</span>`;
                        } else {
                            const label = key.charAt(0).toUpperCase() + key.slice(1).replace(/([A-Z])/g, ' $1');
                            li.innerHTML = `<span><strong>${label}:</strong></span> <span>${value}</span>`;
                        }
                        avionicsList.appendChild(li);
                    });
                }
            }

            // Populate rates from business config
            document.getElementById('wet-rate').textContent = BUSINESS_CONFIG.wetRate;
            document.getElementById('dry-rate').textContent = BUSINESS_CONFIG.dryRate;

            // Populate rental requirements
            populateList('pilot-qualifications', RENTAL_CONFIG.pilotQualifications);
            populateList('insurance-requirements', RENTAL_CONFIG.insuranceRequirements);
            populateList('checkout-procedures', RENTAL_CONFIG.checkoutProcedures);
        }

        function populateList(elementId, items) {
            const listElement = document.getElementById(elementId);
            if (listElement && items) {
                listElement.innerHTML = '';
                items.forEach(item => {
                    const li = document.createElement('li');
                    li.textContent = item;
                    listElement.appendChild(li);
                });
            }
        }

        function initCarousel() {
            // No carousel functionality needed
            console.log('Aircraft page loaded');
        }

        // Photo Gallery Variables
        let currentPhotoIndex = 0;
        const aircraftPhotos = [
            { src: 'Curahee-Aviation/assets/images/aircraft/aircraft-1.JPG', alt: 'Aircraft exterior view' },
            { src: 'Curahee-Aviation/assets/images/aircraft/aircraft-2.JPG', alt: 'Aircraft cockpit view' },
            { src: 'Curahee-Aviation/assets/images/aircraft/aircraft-3.JPG', alt: 'Aircraft interior view' },
            { src: 'Curahee-Aviation/assets/images/aircraft/aircraft-4.JPG', alt: 'Aircraft engine view' },
            { src: 'Curahee-Aviation/assets/images/aircraft/aircraft-5.JPG', alt: 'Aircraft on ramp view' }
        ];

        // Photo Gallery Variables
        let galleryInterval;
        const SLIDESHOW_INTERVAL = 3000; // 3 seconds between photos

        // Photo Gallery Functions
        function openPhotoGallery() {
            currentPhotoIndex = 0;
            document.getElementById('photoGalleryModal').style.display = 'flex';
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
            showCurrentPhoto();
            startSlideshow();
        }

        function closePhotoGallery() {
            document.getElementById('photoGalleryModal').style.display = 'none';
            document.body.style.overflow = 'auto'; // Restore scrolling
            stopSlideshow();
        }

        function startSlideshow() {
            stopSlideshow(); // Clear any existing interval
            galleryInterval = setInterval(nextPhoto, SLIDESHOW_INTERVAL);
        }

        function stopSlideshow() {
            if (galleryInterval) {
                clearInterval(galleryInterval);
                galleryInterval = null;
            }
        }

        function nextPhoto() {
            currentPhotoIndex = (currentPhotoIndex + 1) % aircraftPhotos.length;
            showCurrentPhoto();
            // Restart the slideshow timer when user manually navigates
            if (galleryInterval) {
                startSlideshow();
            }
        }

        function previousPhoto() {
            currentPhotoIndex = (currentPhotoIndex - 1 + aircraftPhotos.length) % aircraftPhotos.length;
            showCurrentPhoto();
            // Restart the slideshow timer when user manually navigates
            if (galleryInterval) {
                startSlideshow();
            }
        }

        function showCurrentPhoto() {
            const photo = aircraftPhotos[currentPhotoIndex];
            const photoElement = document.getElementById('galleryPhoto');
            const counterElement = document.getElementById('photoCounter');
            
            // Try uppercase first, fallback to lowercase
            const img = new Image();
            img.onload = function() {
                photoElement.src = this.src;
                photoElement.alt = photo.alt;
            };
            img.onerror = function() {
                // Try lowercase version
                const lowercaseSrc = photo.src.replace('.JPG', '.jpg');
                const fallbackImg = new Image();
                fallbackImg.onload = function() {
                    photoElement.src = this.src;
                    photoElement.alt = photo.alt;
                };
                fallbackImg.onerror = function() {
                    console.warn('Photo not found:', photo.src);
                };
                fallbackImg.src = lowercaseSrc;
            };
            img.src = photo.src;
            
            // Update counter
            counterElement.textContent = `${currentPhotoIndex + 1} of ${aircraftPhotos.length}`;
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            const modal = document.getElementById('photoGalleryModal');
            if (modal.style.display === 'flex') {
                switch(event.key) {
                    case 'Escape':
                        closePhotoGallery();
                        break;
                    case 'ArrowLeft':
                        previousPhoto();
                        break;
                    case 'ArrowRight':
                        nextPhoto();
                        break;
                }
            }
        });

        // Close modal when clicking outside the photo
        document.getElementById('photoGalleryModal').addEventListener('click', function(event) {
            if (event.target === this) {
                closePhotoGallery();
            }
        });

        // Pause slideshow on hover, resume on mouse leave
        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.getElementById('photoGalleryModal');
            
            modal.addEventListener('mouseenter', function() {
                if (modal.style.display === 'flex') {
                    stopSlideshow();
                }
            });
            
            modal.addEventListener('mouseleave', function() {
                if (modal.style.display === 'flex') {
                    startSlideshow();
                }
            });
        });
    </script>
</body>
</html>